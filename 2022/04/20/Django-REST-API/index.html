<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Mihyun Lee">





<title>Django&gt;REST API | Mihyun&#39;s Blog</title>



    <link rel="icon" href="/favicon_mhlee.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 6.0.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Mihyun&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Mihyun&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Django&gt;REST API</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Mihyun Lee</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">April 20, 2022&nbsp;&nbsp;12:53:16</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Django/">Django</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><ul>
<li>HyperText Transfer Protocol</li>
<li>ì›¹ ìƒì—ì„œ ì»¨í…ì¸ ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•œ ì•½ì†</li>
<li>HTML ë¬¸ì„œì™€ ê°™ì€ ë¦¬ì†ŒìŠ¤ë“¤ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í”„ë¡œí† ì½œ(ê·œì¹™, ì•½ì†)</li>
<li>ì›¹ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ëª¨ë“  ë°ì´í„° êµí™˜ì˜ ê¸°ì´ˆ<ul>
<li>ìš”ì²­ (request) : í´ë¼ì´ì–¸íŠ¸ì— ì˜í•´ ì „ì†¡ë˜ëŠ” ë©”ì„¸ì§€</li>
<li>ì‘ë‹µ (response) : ì„œë²„ì—ì„œ ì‘ë‹µìœ¼ë¡œ ì „ì†¡ë˜ëŠ” ë©”ì‹œì§€</li>
</ul>
</li>
<li>ê¸°ë³¸ íŠ¹ì„± : ì¿ í‚¤ì™€ ì„¸ì…˜ì„ í†µí•´ ì„œë²„ ìƒíƒœë¥¼ ìš”ì²­ê³¼ ì—°ê²°í•˜ë„ë¡ í•¨<ul>
<li>Stateless</li>
<li>Connectionless</li>
</ul>
</li>
<li>HTTP request methods<ul>
<li>ìì›ì— ëŒ€í•œ í–‰ìœ„ë¥¼ ì •ì˜</li>
<li>ì£¼ì–´ì§„ ë¦¬ì†ŒìŠ¤ì— ìˆ˜í–‰í•˜ê¸¸ ì›í•˜ëŠ” í–‰ë™ì„ ë‚˜íƒ€ëƒ„</li>
<li>GET, POST, PUT, DELETEâ€¦</li>
</ul>
</li>
</ul>
<blockquote>
<p>PATCH</p>
<ul>
<li><p>ë¦¬ì†ŒìŠ¤ì˜ ë¶€ë¶„ì ì¸ ìˆ˜ì •ì„ í•  ë•Œì— ì‚¬ìš©ëœë‹¤.</p>
</li>
<li><p>ë©±ë“±ì„±ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤.</p>
</li>
</ul>
<p>ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •ì˜ ê²½ìš° PUT ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.</p>
</blockquote>
<p><img src="/2022/04/20/Django-REST-API/image-20220420232423748.png" alt="image-20220420232423748"></p>
<ul>
<li><p>HTTP response status codes</p>
<ul>
<li>íŠ¹ì • HTTP ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ„</li>
<li>ì‘ë‹µì€ 5ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§</li>
</ul>
<img src="image-20220420232935302.png" alt="image-20220420232935302" style="zoom:50%;" /></li>
</ul>
<h3 id="ì›¹ì—ì„œì˜-ë¦¬ì†ŒìŠ¤-ì‹ë³„"><a href="#ì›¹ì—ì„œì˜-ë¦¬ì†ŒìŠ¤-ì‹ë³„" class="headerlink" title="ì›¹ì—ì„œì˜ ë¦¬ì†ŒìŠ¤ ì‹ë³„"></a>ì›¹ì—ì„œì˜ ë¦¬ì†ŒìŠ¤ ì‹ë³„</h3><ul>
<li>HTTP ìš”ì²­ì˜ ëŒ€ìƒì„ ë¦¬ì†ŒìŠ¤(resource, ìì›) ë¼ê³  í•¨</li>
<li>ë¦¬ì†ŒìŠ¤ëŠ” ë¬¸ì„œ, ì‚¬ì§„ ë˜ëŠ” ê¸°íƒ€ ì–´ë–¤ ê²ƒì´ë“  ë  ìˆ˜ ìˆìŒ</li>
<li>ê° ë¦¬ì†ŒìŠ¤ëŠ” ë¦¬ì†ŒìŠ¤ ì‹ë³„ì„ ìœ„í•´ HTTP ì „ì²´ì—ì„œ ì‚¬ìš©ë˜ëŠ” URI(Uniform Resource Identifier)ë¡œ ì‹ë³„ë¨</li>
</ul>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><ul>
<li>Uniform Resource Locator</li>
<li>í†µí•© ìì› ìœ„ì¹˜</li>
<li>ê³¼ê±°ì—ëŠ” ì‹¤ì œ ìì›ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒˆì§€ë§Œ í˜„ì¬ëŠ” ì¶”ìƒí™”ëœ ì˜ë¯¸ë¡ ì ì¸ êµ¬ì„±</li>
<li>â€˜ì›¹ ì£¼ì†Œâ€™, â€˜ë§í¬â€™ ë¼ê³ ë„ ë¶ˆë¦¼</li>
</ul>
<h3 id="URN"><a href="#URN" class="headerlink" title="URN"></a>URN</h3><ul>
<li>Uniform Resource Name</li>
<li>í†µí•© ìì› ì´ë¦„</li>
<li>URL ê³¼ ë‹¬ë¦¬ ìì›ì˜ ìœ„ì¹˜ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” ìœ ì¼í•œ ì´ë¦„ ì—­í• ì„ í•¨</li>
</ul>
<h2 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h2><ul>
<li>Uniform Resource Identifier</li>
<li>í†µí•© ìì› ì‹ë³„ì</li>
<li>ì¸í„°ë„·ì˜ ìì›ì„ ì‹ë³„í•˜ëŠ” ìœ ì¼í•œ ì£¼ì†Œ(ì •ë³´ì˜ ìì›ì„ í‘œí˜„)</li>
<li>ì¸í„°ë„·ì—ì„œ ìì›ì„ ì‹ë³„í•˜ê±°ë‚˜ ì´ë¦„ì„ ì§€ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ê°„ë‹¨í•œ ë¬¸ìì—´</li>
<li>í•˜ìœ„ ê°œë… : URL, URN</li>
<li>URIëŠ” í¬ê²Œ URLê³¼ URNìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆì§€ë§Œ, URNì„ ì‚¬ìš©í•˜ëŠ” ë¹„ì¤‘ì´ ë§¤ìš° ì ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ URLì€ URIì™€ ê°™ì€ ì˜ë¯¸ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°ë„ í•¨</li>
</ul>
<h3 id="URIì˜-êµ¬ì¡°"><a href="#URIì˜-êµ¬ì¡°" class="headerlink" title="URIì˜ êµ¬ì¡°"></a>URIì˜ êµ¬ì¡°</h3><ul>
<li><p>Scheme (protocol)</p>
<ul>
<li>ë¸Œë¼ìš°ì €ê°€ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” í”„ë¡œí† ì½œ</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233803134.png" alt="image-20220420233803134"></p>
</li>
<li><p>Host (Domain name)</p>
<ul>
<li>ìš”ì²­ì„ ë°›ëŠ” ì›¹ ì„œë²„ì˜ ì´ë¦„</li>
<li>IP address ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ ì‚¬ìš©ì‹œ ë¶ˆí¸í•˜ë¯€ë¡œ ì›¹ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠìŒ</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233821150.png" alt="image-20220420233821150"></p>
</li>
<li><p>Port</p>
<ul>
<li>HTTP : 80</li>
<li>HTTPS : 443</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233832116.png" alt="image-20220420233832116"></p>
</li>
<li><p>Path</p>
<ul>
<li>ì›¹ ì„œë²„ìƒì˜ ë¦¬ì†ŒìŠ¤ ê²½ë¡œ</li>
<li>ì´ˆê¸°ì—ëŠ” ì‹¤ì œ íŒŒì¼ì´ ìœ„ì¹˜í•œ ë¬¼ë¦¬ì ì¸ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒˆì§€ë§Œ, ì˜¤ëŠ˜ë‚ ì€ ë¬¼ë¦¬ì ì¸ ì‹¤ì œ ìœ„ì¹˜ê°€ ì•„ë‹Œ ì¶”ìƒí™” í˜•íƒœì˜ êµ¬ì¡°ë¡œ í‘œí˜„</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233843096.png" alt="image-20220420233843096"></p>
</li>
<li><p>Query(Identifier)</p>
<ul>
<li>Query String Parameters</li>
<li>ì›¹ ì„œë²„ì— ì œê³µë˜ëŠ” ì¶”ê°€ì ì¸ ë§¤ê°œë³€ìˆ˜</li>
<li>&amp; ë¡œ êµ¬ë¶„ë˜ëŠ” key-value ëª©ë¡</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233854375.png" alt="image-20220420233854375"></p>
</li>
<li><p>Fragment</p>
<ul>
<li>Anchor</li>
<li>ìì› ì•ˆì—ì„œ ë¶ë§ˆí¬ì˜ í•œ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ëƒ„</li>
<li>ë¸Œë¼ìš°ì €ì—ê²Œ í•´ë‹¹ ë¬¸ì„œì˜ íŠ¹ì • ë¶€ë¶„ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ë°©ë²•</li>
<li><code>#</code> ë’¤ì˜ ë¶€ë¶„ì€ ìš”ì²­ì´ ì„œë²„ì— ë³´ë‚´ì§€ì§€ ì•ŠìŒ</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220420233905850.png" alt="image-20220420233905850"></p>
</li>
</ul>
<h1 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h1><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><ul>
<li><p>Application Programming Interface</p>
</li>
<li><p>í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë§Œë“  ì¸í„°í˜ì´ìŠ¤</p>
<ul>
<li>ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ì†Œí†µí•˜ëŠ” ë°©ë²•</li>
<li>CLIëŠ” ëª…ë ¹ì¤„, GUIëŠ” ê·¸ë˜í”½, APIëŠ” í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ íŠ¹ì •í•œ ê¸°ëŠ¥ ìˆ˜í–‰</li>
</ul>
</li>
<li><p>Web API</p>
<ul>
<li>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì—ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ê¸° ìœ„í•´ ì •ì˜ëœ ëª…ì„¸</li>
<li>í˜„ì¬ ì›¹ ê°œë°œì€ ëª¨ë“  ê²ƒì„ ì§ì ‘ ê°œë°œí•˜ê¸° ë³´ë‹¤ ì—¬ëŸ¬ OpenAPIë¥¼ í™œìš©í•˜ëŠ” ì¶”ì„¸</li>
</ul>
</li>
<li><p>ì‘ë‹µ ë°ì´í„° íƒ€ì…</p>
<ul>
<li>HTML, XML, JSON ë“±</li>
</ul>
</li>
</ul>
<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><ul>
<li><strong>RE</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer</li>
<li>API serverë¥¼ ê°œë°œí•˜ê¸° ìœ„í•œ ì¼ì¢…ì˜ <em>ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë°©ë²•ë¡ </em></li>
<li>ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°(Network Architecture) ì›ë¦¬ì˜ ëª¨ìŒ<ul>
<li>ìì›ì„ ì •ì˜í•˜ê³  ìì›ì— ëŒ€í•œ ì£¼ì†Œë¥¼ ì§€ì •í•˜ëŠ” ì „ë°˜ì ì¸ ë°©ë²•</li>
</ul>
</li>
<li>RESTful : REST ì›ë¦¬ë¥¼ ë”°ë¥´ëŠ” ì‹œìŠ¤í…œ</li>
<li>ìì›ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê³ ë¯¼ : ì •ì˜ëœ ìì›ì„ ì–´ë””ì— ìœ„ì¹˜ ì‹œí‚¬ ê²ƒì¸ê°€</li>
</ul>
<h3 id="RESTì˜-ìì›ê³¼-ì£¼ì†Œì˜-ì§€ì •-ë°©ë²•"><a href="#RESTì˜-ìì›ê³¼-ì£¼ì†Œì˜-ì§€ì •-ë°©ë²•" class="headerlink" title="RESTì˜ ìì›ê³¼ ì£¼ì†Œì˜ ì§€ì • ë°©ë²•"></a>RESTì˜ ìì›ê³¼ ì£¼ì†Œì˜ ì§€ì • ë°©ë²•</h3><ol>
<li>ìì› : URI</li>
<li>í–‰ìœ„ : HTTP Method</li>
<li>í‘œí˜„<ul>
<li>ìì›ê³¼ í–‰ìœ„ë¥¼ í†µí•´ ê¶ê·¹ì ìœ¼ë¡œ í‘œí˜„ë˜ëŠ” (ì¶”ìƒí™”ëœ) ê²°ê³¼ë¬¼</li>
<li>JSONìœ¼ë¡œ í‘œí˜„ëœ ë°ì´í„°ë¥¼ ì œê³µ</li>
</ul>
</li>
</ol>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><ul>
<li>JSON (JavaScript Object Notaion)<ul>
<li>JSON is a lightweight data-interchange format</li>
<li>JavaScript ì˜ í‘œê¸°ë²•ì„ ë”°ë¥¸ ë‹¨ìˆœ ë¬¸ìì—´</li>
</ul>
</li>
<li>ì‚¬ëŒì´ ì½ê±°ë‚˜ ì“°ê¸° ì‰½ê³  ê¸°ê³„ê°€ íŒŒì‹±(í•´ì„, ë¶„ì„)í•˜ê³  ë§Œë“¤ì–´ë‚´ê¸° ì‰¬ì›€</li>
<li>íŒŒì´ì¬ì˜ dictionary, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ object ì²˜ëŸ¼ Cê³„ì—´ì˜ ì–¸ì–´ê°€ ê°–ê³ ìˆëŠ” ìë£Œêµ¬ì¡°ë¡œ ì‰½ê²Œ ë³€í™”í•  ìˆ˜ ìˆëŠ” key-value í˜•íƒœì˜ êµ¬ì¡°ë¥¼ ê°–ê³  ìˆìŒ</li>
</ul>
<h3 id="REST-1"><a href="#REST-1" class="headerlink" title="REST"></a>REST</h3><ul>
<li>RESTì˜ í•µì‹¬ ê·œì¹™<ol>
<li>â€˜ì •ë³´â€™ëŠ” URIë¡œ í‘œí˜„</li>
<li>ìì›ì— ëŒ€í•œ â€˜í–‰ìœ„â€™ëŠ” HTTP methodë¡œ í‘œí˜„ (GET, POST, PUT, DELETE)</li>
</ol>
</li>
<li>ì„¤ê³„ ë°©ë²•ë¡ ì€ ì§€í‚¤ì§€ ì•Šì•˜ì„ ë•Œ ìƒëŠ” ê²ƒë³´ë‹¤ ì§€ì¼°ì„ ë•Œ ì–»ëŠ” ê²ƒì´ í›¨ì”¬ ë§ìŒ<ul>
<li>ë‹¨, ì„¤ê³„ ë°©ë²•ë¡ ì„ ì§€í‚¤ì§€ ì•Šë”ë¼ë„ ë™ì‘ ì—¬ë¶€ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠìŒ</li>
</ul>
</li>
</ul>
<h3 id="RESTful-API-1"><a href="#RESTful-API-1" class="headerlink" title="RESTful API"></a>RESTful API</h3><ul>
<li>REST ì›ë¦¬ë¥¼ ë”°ë¼ ì„¤ê³„í•œ API</li>
<li>RESTful services, í˜¹ì€ simply REST services ë¼ê³ ë„ ë¶€ë¦„</li>
<li>í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— JSONì„ ì‘ë‹µí•˜ëŠ” ì„œë²„ë¥¼ êµ¬ì„±<ul>
<li>ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©ìì˜ ì…ì¥ì—ì„œ ì¼ë˜ APIë¥¼ ì œê³µìì˜ ì…ì¥ì´ ë˜ì–´ ê°œë°œí•´ë³´ê¸°</li>
</ul>
</li>
</ul>
<h1 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h1><h3 id="Create-Dummy-Data"><a href="#Create-Dummy-Data" class="headerlink" title="Create Dummy Data"></a>Create Dummy Data</h3><ul>
<li>Django-seed ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ëª¨ë¸êµ¬ì¡°ì— ë§ëŠ” ë°ì´í„° ìƒì„±</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br><span class="line">python manage.py seed articles --number=20</span><br></pre></td></tr></table></figure>

<h2 id="1-HTML"><a href="#1-HTML" class="headerlink" title="1. HTML"></a>1. HTML</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># views.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_html</span>(<span class="params">request</span>):</span><br><span class="line">    articles = Article.objects.<span class="built_in">all</span>()</span><br><span class="line">    context = &#123;</span><br><span class="line">        <span class="string">&#x27;articles&#x27;</span>: articles,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;articles/article.html&#x27;</span>, context)</span><br></pre></td></tr></table></figure>



<h2 id="2-JsonResponse"><a href="#2-JsonResponse" class="headerlink" title="2. JsonResponse"></a>2. JsonResponse</h2><ul>
<li>JsonResponse ê°ì²´ë¥¼ í™œìš©í•œ JSON ë°ì´í„° ì‘ë‹µ</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># views.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_json_1</span>(<span class="params">request</span>):</span><br><span class="line">    articles = Article.objects.<span class="built_in">all</span>()</span><br><span class="line">    articles_json = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> article <span class="keyword">in</span> articles:</span><br><span class="line">        articles_json.append(</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&#x27;id&#x27;</span>: article.pk,</span><br><span class="line">                <span class="string">&#x27;title&#x27;</span>: article.title,</span><br><span class="line">                <span class="string">&#x27;content&#x27;</span>: article.content,</span><br><span class="line">                <span class="string">&#x27;created_at&#x27;</span>: article.created_at,</span><br><span class="line">                <span class="string">&#x27;updated_at&#x27;</span>: article.updated_at,</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(articles_json, safe=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>JsonResponse</strong> objects</p>
<ul>
<li><p>JSON-encoded response ë¥¼ ë§Œë“œëŠ” HttpResponseì˜ ì„œë¸Œ í´ë˜ìŠ¤</p>
</li>
<li><p>â€œsafeâ€ parameter</p>
<ul>
<li>True (ê¸°ë³¸ê°’)</li>
<li>dict ì´ì™¸ì˜ ê°ì²´ë¥¼ ì§ë ¬í™”(Serialization) í•˜ë ¤ë©´ Falseë¡œ ì„¤ì •í•´ì•¼ í•¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response = JsonResponse(&#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>&#125;)</span><br><span class="line">response = JsonResponse([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], safe=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="ğŸ”-Serialization"><a href="#ğŸ”-Serialization" class="headerlink" title="ğŸ” Serialization"></a>ğŸ” Serialization</h3><ul>
<li>ì§ë ¬í™”</li>
<li>ë°ì´í„° êµ¬ì¡°ë‚˜ ê°ì²´ ìƒíƒœë¥¼ ë™ì¼í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì»´í“¨í„° í™˜ê²½ì— ì €ì¥í•˜ê³ , ë‚˜ì¤‘ì— ì¬êµ¬ì„±í•  ìˆ˜ ìˆëŠ” í¬ë§·ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •</li>
<li>Serializers in Django<ul>
<li>Queryset ë° Model Instance ì™€ ê°™ì€ ë³µì¡í•œ ë°ì´í„°ë¥¼ JSON, XML ë“±ì˜ ìœ í˜•ìœ¼ë¡œ ì‰½ê²Œ ë³€í™˜í•  ìˆ˜ ìˆëŠ” Python ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤Œ</li>
</ul>
</li>
</ul>
<h2 id="3-Django-Serializer"><a href="#3-Django-Serializer" class="headerlink" title="3. Django Serializer"></a>3. Django Serializer</h2><ul>
<li>Djangoì˜ ë‚´ì¥ HttpResponseë¥¼ í™œìš©í•œ JSON ì‘ë‹µ</li>
<li>ì£¼ì–´ì§„ ëª¨ë¸ ì •ë³´ë¥¼ í™œìš©í•˜ê¸° ë•Œë¬¸ì— ì´ì „ê³¼ ë‹¬ë¦¬ í•„ë“œë¥¼ ê°œë³„ì ìœ¼ë¡œ ì§ì ‘ ë§Œë“¤ì–´ ì¤„ í•„ìš” ì—†ìŒ</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># views.py</span></span><br><span class="line"><span class="keyword">from</span> django.http.response <span class="keyword">import</span> JsonResponse, HttpResponse</span><br><span class="line"><span class="keyword">from</span> django.core <span class="keyword">import</span> serializers</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_json_2</span>(<span class="params">request</span>):</span><br><span class="line">    articles = Article.objects.<span class="built_in">all</span>()</span><br><span class="line">    data = serializers.serialize(<span class="string">&#x27;json&#x27;</span>, articles)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(data, content_type=<span class="string">&#x27;application/json&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="4-Django-REST-Framework"><a href="#4-Django-REST-Framework" class="headerlink" title="4. Django REST Framework"></a>4. Django REST Framework</h2><ul>
<li>Django REST Framework(DFR) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œ JSON ì‘ë‹µ</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">		...</span><br><span class="line">    <span class="string">&#x27;rest_framework&#x27;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ul>
<li>Article ëª¨ë¸ì— ë§ì¶° ìë™ìœ¼ë¡œ í•„ë“œë¥¼ ìƒì„±í•´ serialize í•´ì£¼ëŠ” ModelSerializer í™•ì¸</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># articles/serializers.py</span></span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Article</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArticleSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Article</span><br><span class="line">        fields = <span class="string">&#x27;__all__&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>DRF ì˜ Response() ë¥¼ í™œìš©í•´ Serialize ëœ JSON ê°ì²´ ì‘ë‹µ</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># views.py</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.decorators <span class="keyword">import</span> api_view</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> ArticleSerializer</span><br><span class="line"></span><br><span class="line"><span class="comment"># @api_view([&#x27;GET&#x27;])</span></span><br><span class="line"><span class="meta">@api_view()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_json_3</span>(<span class="params">request</span>):</span><br><span class="line">    articles = Article.objects.<span class="built_in">all</span>()</span><br><span class="line">    serializer = ArticleSerializer(articles, many=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> Response(serializer.data)</span><br></pre></td></tr></table></figure>



<h2 id="Django-REST-Framework-DRF"><a href="#Django-REST-Framework-DRF" class="headerlink" title="Django REST Framework (DRF)"></a>Django REST Framework (DRF)</h2><ul>
<li><p>Web API êµ¬ì¶•ì„ ìœ„í•œ ê°•ë ¥í•œ Toolkitì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</p>
</li>
<li><p>DRF ì˜ SerializerëŠ” Djangoì˜ Form ë° ModelForm í´ë˜ìŠ¤ì™€ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ êµ¬ì„±ë˜ê³  ì‘ë™í•¨</p>
</li>
<li><p>Web API</p>
<ul>
<li>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì—ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ê¸° ìœ„í•´ ì •ì˜ëœ ëª…ì„¸</li>
</ul>
</li>
<li><p>Django ModelForm vs. DRF Serializer</p>
<p><img src="/2022/04/20/Django-REST-API/image-20220420152255984.png" alt="image-20220420152255984"></p>
</li>
</ul>
<h1 id="Single-Model"><a href="#Single-Model" class="headerlink" title="Single Model"></a>Single Model</h1><h2 id="DRF-with-Single-Model"><a href="#DRF-with-Single-Model" class="headerlink" title="DRF with Single Model"></a>DRF with Single Model</h2><ul>
<li>ë‹¨ì¼ ëª¨ë¸ dataë¥¼ ì§ë ¬í™”(Serialization)í•˜ì—¬ JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í•™ìŠµ</li>
<li>ë‹¨ì¼ ëª¨ë¸ì„ ë‘ê³  CRUD ë¡œì§ì„ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„</li>
<li>API ê°œë°œì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë„êµ¬ í™œìš©<ul>
<li>DRF built-in form</li>
<li>Postman</li>
</ul>
</li>
</ul>
<h2 id="ModelSerializer"><a href="#ModelSerializer" class="headerlink" title="ModelSerializer"></a>ModelSerializer</h2><ul>
<li><p>ëª¨ë¸ í•„ë“œì— í•´ë‹¹í•˜ëŠ” í•„ë“œê°€ ìˆëŠ” Serializer í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” shortcut</p>
</li>
<li><p>ì•„ë˜ í•µì‹¬ ê¸°ëŠ¥ì„ ì œê³µ</p>
<ol>
<li>ëª¨ë¸ ì •ë³´ì— ë§ì¶° ìë™ìœ¼ë¡œ í•„ë“œ ìƒì„±</li>
<li>Serializer ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ê¸°ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±</li>
<li><code>.create()</code> &amp; <code>.update()</code> ì˜ ê°„ë‹¨í•œ ê¸°ë³¸ êµ¬í˜„ì´ í¬í•¨ë¨</li>
</ol>
</li>
<li><p>Model í•„ë“œë¥¼ ì–´ë–»ê²Œ â€˜ì§ë ¬í™”â€™ í•  ì§€ ì„¤ì •í•˜ëŠ” ê²ƒì´ í•µì‹¬</p>
</li>
<li><p>ì´ ê³¼ì •ì€ Django ì—ì„œ Model ì˜ í•„ë“œë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•¨</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># articles/serializers.py</span></span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Article</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArtlcleListSerializer</span>(serializers.ModelSerializer):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Article</span><br><span class="line">        fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;title&#x27;</span>,)</span><br></pre></td></tr></table></figure>

<h3 id="39-many-39-argument"><a href="#39-many-39-argument" class="headerlink" title="&#39;many&#39; argument"></a><code>&#39;many&#39;</code> argument</h3><ul>
<li><code>many=True</code><ul>
<li>Serializing multiple objects</li>
<li>ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ ëŒ€ì‹  QuerySet ë“±ì„ ì§ë ¬í™” í•˜ê¸° ìœ„í•´ì„œëŠ” serializerë¥¼ ì¸ìŠ¤í„´ìŠ¤í™” í•  ë•Œ <code>many=True</code>ë¥¼ í‚¤ì›Œë“œ ì¸ìë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>article = Article.objects.<span class="built_in">all</span>()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>serializer = ArticleListSerializer(article)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>serializer.data</span><br><span class="line">...</span><br><span class="line">AttributeError: Got AttributeError when attempting to get a value <span class="keyword">for</span> field `title` on serializer `ArticleListSerializer`.</span><br><span class="line">The serializer field might be named incorrectly <span class="keyword">and</span> <span class="keyword">not</span> match <span class="built_in">any</span> attribute <span class="keyword">or</span> key on the `QuerySet` instance.</span><br><span class="line">Original exception text was: <span class="string">&#x27;QuerySet&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;title&#x27;</span>.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>serializer = ArticleListSerializer(articles, many=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>serializer.data</span><br><span class="line">[OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Agree learn two position threat hope these speak.&#x27;</span>)]), OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Brother per six source full which west training.&#x27;</span>)]), OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">3</span>), (<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Evidence tend learn door issue.&#x27;</span>)]), OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Body option standard manager key best across.&#x27;</span>)]), OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">5</span>), (<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Determine food concern prevent wind report play person.&#x27;</span>)]), OrderedDict([(<span class="string">&#x27;id&#x27;</span>, <span class="number">6</span>),</span><br><span class="line">...</span><br><span class="line">)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></table></figure>

<h2 id="Build-RESTful-API"><a href="#Build-RESTful-API" class="headerlink" title="Build RESTful API"></a>Build RESTful API</h2><p><img src="/2022/04/20/Django-REST-API/image-20220421133400608.png" alt="image-20220421133400608"></p>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.decorators <span class="keyword">import</span> api_view</span><br><span class="line"></span><br><span class="line"><span class="meta">@api_view(<span class="params">[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_list</span>(<span class="params">request</span>):</span><br><span class="line">    articles = Article.objects.<span class="built_in">all</span>() </span><br><span class="line">    <span class="comment"># DBê°€ ë¹„ì–´ìˆëŠ” ê²½ìš° 404 ë¦¬í„´ë³´ë‹¤ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ get_list_or_404 ëŒ€ì‹  all ì‚¬ìš©</span></span><br><span class="line">    <span class="comment"># articles = get_list_or_404(Article)</span></span><br><span class="line">    serializer = ArticleListSerializer(articles, many=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> Response(serializer.data)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>api_view</code> decorator<ul>
<li>ê¸°ë³¸ì ìœ¼ë¡œ GET ë©”ì„œë“œë§Œ í—ˆìš©ë˜ë©° ë‹¤ë¥¸ ë©”ì„œë“œ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” 405 Method Not Allowedë¡œ ì‘ë‹µ</li>
<li>View í•¨ìˆ˜ê°€ ì‘ë‹µí•´ì•¼ í•˜ëŠ” HTTP ë©”ì„œë“œì˜ ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ì˜ ì¸ìë¡œ ë°›ìŒ</li>
<li>DRFì—ì„œëŠ” ì„ íƒì´ ì•„ë‹Œ <em><strong>í•„ìˆ˜ì ìœ¼ë¡œ ì‘ì„±</strong></em>í•´ì•¼ í•´ë‹¹ view í•¨ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•¨</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># articles/serializers.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArticleSerializer</span>(serializers.ModelSerializer):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Article</span><br><span class="line">        fields = <span class="string">&#x27;__all__&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Article Listì™€ Article Detail ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì¶”ê°€ Serailizer ì •ì˜</li>
<li>ëª¨ë“  í•„ë“œë¥¼ ì§ë ¬í™”í•˜ê¸° ìœ„í•´ fields ì˜µì…˜ì„ <code>__all__</code> ë¡œ ì„¤ì •</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@api_view(<span class="params">[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_detail</span>(<span class="params">request, article_pk</span>):</span><br><span class="line">    article = get_object_or_404(Article, pk=article_pk)</span><br><span class="line">    serializer = ArticleSerializer(article)</span><br><span class="line">    <span class="keyword">return</span> Response(serializer.data)</span><br></pre></td></tr></table></figure>



<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><ul>
<li>201 Created ìƒíƒœì½”ë“œ ë° ë©”ì‹œì§€ ì‘ë‹µ</li>
<li>RESTful êµ¬ì¡°ì— ë§ê²Œ ì‘ì„±<ol>
<li>URIëŠ” ìì›ì„ í‘œí˜„</li>
<li>ìì›ì„ ì¡°ì‘í•˜ëŠ” í–‰ìœ„ëŠ” HTTP Method</li>
</ol>
</li>
<li>article_list í•¨ìˆ˜ë¡œ ê²Œì‹œê¸€ì„ ì¡°íšŒí•˜ê±°ë‚˜ ìƒì„±í•˜ëŠ” í–‰ìœ„ë¥¼ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> status</span><br><span class="line"></span><br><span class="line"><span class="meta">@api_view(<span class="params">[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_list</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># ì „ì²´ ê²Œì‹œê¸€ ì¡°íšŒ</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;GET&#x27;</span>:</span><br><span class="line">        articles = get_list_or_404(Article)</span><br><span class="line">        serializer = ArticleListSerializer(articles, many=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> Response(serializer.data)</span><br><span class="line">    <span class="comment"># ê²Œì‹œê¸€ ìƒì„±</span></span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        serializer = ArticleSerializer(data=request.data)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid(raise_exception=<span class="literal">True</span>):</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.data, status=status.HTTP_201_CREATED)</span><br><span class="line">        <span class="comment"># return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Status Codes in DRF<ul>
<li>DRFì—ëŠ” status code ë¥¼ ë³´ë‹¤ ëª…í™•í•˜ê³  ì½ê¸° ì‰½ê²Œ ë§Œë“œëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì •ì˜ëœ ìƒìˆ˜ ì§‘í•©ì„ ì œê³µ</li>
<li>status ëª¨ë“ˆì— HTTP status code ì§‘í•©ì´ ëª¨ë‘ í¬í•¨ë˜ì–´ ìˆìŒ</li>
</ul>
</li>
<li><code>raise_exception</code> argument<ul>
<li>Raising an exception on invalid data<ul>
<li><code>is_valid()</code> ëŠ” ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ê°€ ìˆëŠ” ê²½ìš° serializers.ValidationError ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì„ íƒì  raise_exception ì¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</li>
<li>DRF ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ê¸°ì— ì˜í•´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ HTTP status code 400ì„ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜í•¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@api_view(<span class="params">[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;DELETE&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_detail</span>(<span class="params">request, article_pk</span>):</span><br><span class="line">    article = get_object_or_404(Article, pk=article_pk)</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;GET&#x27;</span>:</span><br><span class="line">        serializer = ArticleSerializer(article)</span><br><span class="line">        <span class="keyword">return</span> Response(serializer.data)</span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">&#x27;DELETE&#x27;</span>:</span><br><span class="line">        article.delete()</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&#x27;delete&#x27;</span>: <span class="string">f&#x27;ë°ì´í„° <span class="subst">&#123;article_pk&#125;</span>ë²ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Response(data, status=status.HTTP_204_NO_CONTENT)</span><br></pre></td></tr></table></figure>

<ul>
<li>204 No Content ìƒíƒœ ì½”ë“œ ë° ë©”ì‹œì§€ ì‘ë‹µ</li>
<li>Article_detail í•¨ìˆ˜ë¡œ ìƒì„¸ ê²Œì‹œê¸€ì„ ì¡°íšŒí•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” í–‰ìœ„ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥</li>
</ul>
<h3 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@api_view(<span class="params">[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;PUT&#x27;</span>, <span class="string">&#x27;DELETE&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">article_detail</span>(<span class="params">request, article_pk</span>):</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">&#x27;PUT&#x27;</span>:</span><br><span class="line">        serializer = ArticleSerializer(article, data=request.data)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid(raise_exception=<span class="literal">True</span>):</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.data)</span><br></pre></td></tr></table></figure>



<h1 id="1-N-Relation"><a href="#1-N-Relation" class="headerlink" title="1:N Relation"></a>1:N Relation</h1><ul>
<li>1:N ê´€ê³„ì—ì„œì˜ ëª¨ë¸ dataë¥¼ ì§ë ¬í™”(serialization) í•˜ì—¬ JSONìœ¼ë¡œ ë³€í™”í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í•™ìŠµ</li>
<li>2ê°œ ì´ìƒì˜ 1:N ê´€ê³„ë¥¼ ë§»ëŠ” ëª¨ë¸ì„ ë‘ê³  CRUD ë¡œì§ì„ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ê¸°</li>
</ul>
<h3 id="GET-1"><a href="#GET-1" class="headerlink" title="GET"></a>GET</h3><ul>
<li>Comment model ì¶”ê°€</li>
<li>Single model ê³¼ ë™ì¼</li>
</ul>
<h3 id="POST-1"><a href="#POST-1" class="headerlink" title="POST"></a>POST</h3><ul>
<li><p>Article ìƒì„±ê³¼ ë‹¬ë¦¬ Comment ìƒì„±ì€ ìƒì„± ì‹œì— ì°¸ì¡°í•˜ëŠ” ëª¨ë¸ì˜ ê°ì²´ ì •ë³´ê°€ í•„ìš”</p>
</li>
<li><p>1:N ê´€ê³„ì—ì„œ Nì€ ì–´ë–¤ 1ì„ ì°¸ì¡°í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸(ì™¸ë˜í‚¤)</p>
</li>
<li><p><code>.save()</code> method</p>
<ul>
<li>íŠ¹ì • Serializer ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì €ì¥í•˜ëŠ” ê³¼ì •ì—ì„œ ì¶”ê°€ì ì¸ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆìŒ</li>
<li>ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì €ì¥í•˜ëŠ” ì‹œì ì— ì¶”ê°€ ë°ì´í„° ì‚½ì…ì´ í•„ìš”í•œ ê²½ìš°</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220421230724584.png" alt="image-20220421230724584"></p>
</li>
<li><p><code>read_only_fields</code></p>
<ul>
<li>ì–´ë–¤ ê²Œì‹œê¸€ì— ì‘ì„±í•˜ëŠ” ëŒ“ê¸€ì¸ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ form-dataë¡œ ë„˜ê²¨ì£¼ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì§ë ¬í™”í•˜ëŠ” ê³¼ì •ì—ì„œ article í•„ë“œê°€ ìœ íš¨ì„± ê²€ì‚¬(is_valid) ë¥¼ í†µê³¼í•˜ì§€ ëª»í•¨</li>
<li>ì´ë•Œ, ì½ê¸° ì „ìš© í•„ë“œ ì„¤ì •ì„ í†µí•´ ì§ë ¬í™”í•˜ì§€ ì•Šê³  ë°˜í™˜ê°’ì—ë§Œ í•´ë‹¹ í•„ë“œê°€ í¬í•¨ë˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŒ</li>
</ul>
<p><img src="/2022/04/20/Django-REST-API/image-20220421230926993.png" alt="image-20220421230926993"></p>
</li>
</ul>
<h3 id="DELETE-amp-PUT"><a href="#DELETE-amp-PUT" class="headerlink" title="DELETE &amp; PUT"></a>DELETE &amp; PUT</h3><p>Single model ê³¼ ë™ì¼</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Mihyun Lee</span>
                    </p>
                
                
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Django/"># Django</a>
                    
                        <a href="/tags/REST-API/"># REST API</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
            
            <a class="next" rel="next" href="/2022/04/18/DB-3/">DB-3</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© Mihyun Lee | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>